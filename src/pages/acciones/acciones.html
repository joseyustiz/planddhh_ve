<ion-header>
  <ion-navbar>
    <ion-title>
      Acciones Programáticas
    </ion-title>
    <ion-buttons left (click)="limpiarFiltros($event)">
      <button ion-button icon-only>
        <!--<ion-icon name="funnel"></ion-icon>-->
        Limpiar
      </button>
    </ion-buttons>
    <ion-buttons end (click)="presentarFiltros($event)">
      <button ion-button icon-only>
        <ion-icon name="funnel"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-searchbar placeholder="Escribe para filtrar..." (ionInput)="filtrarAcciones($event)" (ionClear)="borradoFiltroTexto($event)"></ion-searchbar>
  <div padding id="etiquetas">
  <ion-chip *ngFor="let tag of tags.filtros" #elem [attr.id]="tag.id">
    <ion-label>{{tag.nombre}}</ion-label>
    <button ion-button clear color="light" (click)="borrarFiltro(elem)">
      <ion-icon name="close-circle"></ion-icon>
    </button>
  </ion-chip>
  </div>

  <div *ngIf="!filtrado">
  <ion-card *ngFor="let accion of acciones">
      <ion-card-header>Acción {{accion.numero}}</ion-card-header>
      <ion-card-content (click)="accionSeleccionada(accion)">
        <p [innerHtml]="accion.descripcion" #descripcionAccion></p>
      </ion-card-content>
      <ion-row no-padding>
        <ion-col>
          <button ion-button clear small color="danger" icon-start (click)="accionSeleccionada(accion)">
            <ion-icon name='more'></ion-icon>
            Ver Más
          </button>
        </ion-col>
        <ion-col text-right (click)="compartirAccion(descripcionAccion.innerText,accion.numero,null,'http://consejoderechoshumanos.gob.ve/wp-content/uploads/2015/07/plan_Nacional_Derechos_Humanos.pdf')">
          <button ion-button clear small color="danger" icon-start>
            <ion-icon name='share'></ion-icon>
            Compartir
          </button>
        </ion-col>
      </ion-row>
    </ion-card>
  </div>



  <div *ngIf="filtrado">
    <ion-card *ngFor="let accion of accionesFiltradas">
      <ion-card-header>Acción {{accion.numero}}</ion-card-header>
      <ion-card-content (click)="accionSeleccionada(accion)">
        <p [innerHtml]="accion.descripcion" #descripcionAccion></p>
      </ion-card-content>
      <ion-row no-padding>
        <ion-col>
          <button ion-button clear small color="danger" icon-start (click)="accionSeleccionada(accion)">
            <ion-icon name='more'></ion-icon>
            Ver Más
          </button>
        </ion-col>
        <ion-col text-right (click)="compartirAccion(descripcionAccion.innerText,accion.numero,null,'http://consejoderechoshumanos.gob.ve/wp-content/uploads/2015/07/plan_Nacional_Derechos_Humanos.pdf')">
          <button ion-button clear small color="danger" icon-start>
            <ion-icon name='share'></ion-icon>
            Compartir
          </button>
        </ion-col>
      </ion-row>
    </ion-card>
  </div>
</ion-content>
